<!--@layout(/layout/basic/layout.html)-->
<!--@css(/myshop/src/myshop.css)-->
<div class="titleArea">
    <h2>주문내역 조회</h2>
</div>

<div module="Myshop_OrderHistoryTab">
    <ul>
        <li class="{$tab_class}"><a href="/myshop/order/list.html{$param}">주문내역 조회 ({$total_orders})</a></li>
        <li class="{$tab_class_cs}">
            <a href="/myshop/order/list.html{$param_cs}">취소/반품/교환 내역 ({$total_orders_cs})</a>
        </li>
        <li class="{$tab_class_old} {$old_list_display|display}">
            <a href="/myshop/order/list_old.html{$param_old}">이전 주문내역 ({$total_orders_old})</a>
        </li>
        <li class="{$tab_class_past} {$is_past_list_display|display}">
            <a href="/myshop/order/list_past.html{$param_past}">과거 주문내역 ({$total_orders_past})</a>
        </li>
    </ul>
</div>

<div module="Myshop_OrderHistoryHead">
    <ul>
        <li>기본적으로 최근 3개월간의 자료가 조회되며, 기간 검색시 지난 주문내역을 조회하실 수 있습니다.</li>
        <li class="{$is_past_list_display|display}">완료 후 36개월 이상 경과한 주문은 <a href="javascript:OrderHistory.searchPast(false)">[과거주문내역]</a>에서 확인할 수 있습니다.</li>
        <li>주문번호를 클릭하시면 해당 주문에 대한 상세내역을 확인하실 수 있습니다.</li>
        <li class="{$cs_request_guide_display|display}">취소/교환/반품 신청은 {$cs_request_period_day_condition} {$cs_request_period_day}일까지 가능합니다.</li>
    </ul>
    <fieldset>
        <legend>검색기간설정</legend>
        <div class="ec-base-button gColumn">
            <a href="#none" class="btnNormal{$now_style}" days="00">오늘</a>
            <a href="#none" class="btnNormal{$month_style}" days="30">1개월</a>
            <a href="#none" class="btnNormal{$three_style}" days="90">3개월</a>
            <a href="#none" class="btnNormal{$six_style}" days="180">6개월</a>
            <a href="#none" class="btnBasic eDataSet{$search_style}">기간설정</a>
        </div>
        <div id="dataSearch">{$form.start_date} ~ {$form.end_date} {$form.submit_date}</div>
    </fieldset>
</div>

<div module="Myshop_OrderHistoryListitem">
    <div class="{$list_display|display}">
        <div>
            <div class="order-top {$display_column|display}">
                <a href="detail.html{$param_detail}">
                    <p>{$order_date}</p>
                    <span>[{$order_id}]</span>
                    <i class="xi-angle-right-min"></i>
                </a>
            </div>
            <div class="order-info">
                <div class="order-prd">
                    <div class="a1">
                        <a href="/product/detail.html{$param}"><img src="{$product_image}" onerror="this.src='//img.echosting.cafe24.com/thumb/img_product_small.gif';" alt="" /></a>
                    </div>
                    <div class="right">
                        <div class="a2">
                            <p class="name">{$product_name_link}</p>
                            <div class="option {$option_display|display}">{$option_str}</div>
                            <ul module="Myshop_optionSet">
                                <li><span>{$product_name}</span>{$option_str} ({$qty}개)</li>
                                <li><span>{$product_name}</span>{$option_str} ({$qty}개)</li>
                            </ul>
                            <p class="price">{$product_price_front_head}{$product_price_front}<span>{$product_price_front_tail}</span></p>
                            <p class="quantity">수량 {$quantity}개</p>
                        </div>
                        <div class="a3">
                            <div class="invoice">
                                <p class="{$shipping_company_display|display}">
                                    <a href="{$shipping_company_link}" target="{$shipping_company_target}">{$shipping_company}</a>
                                </p>
                                <p class="{$invoice_no_display|display}">
                                    <a href="#none" class="line" onclick="{$shipping_trace_popup}">[{$invoice_no}]</a>
                                </p>
                            </div>

                            <a href="/board/product/write.html{$param_postscript}" class="btnSubmit {$postscript_display|display}">구매후기</a>
                            <a href="#none" class="btnNormal {$withdraw_cancel_display|display}" onclick="{$action_withdraw_cancel}">취소철회</a>
                            <a href="#none" class="btnNormal {$withdraw_exchange_display|display}" onclick="{$action_withdraw_exchange}">교환철회</a>
                            <a href="#none" class="btnNormal {$withdraw_return_display|display}" onclick="{$action_withdraw_return}">반품철회</a>
                            <div class="{$cs_button_display_column|display}">
                                <a href="#none" class="btnNormal {$direct_cancel_display|display}" onclick="{$action_direct_cancel}">주문취소</a>
                                <a href="/myshop/order/cancel.html{$param_apply}" class="btnNormal {$apply_cancel_display|display}">취소신청</a>
                                <a href="/myshop/order/exchange.html{$param_apply}" class="btnNormal {$apply_exchange_display|display}">교환신청</a>
                                <a href="/myshop/order/return.html{$param_apply}" class="btnNormal {$apply_return_display|display}">반품신청</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="a4">
                    <p class="status">{$status}</p>
                </div>
            </div>
        </div>
        <div>
            <div class="order-top {$display_column|display}">
                <a href="detail.html{$param_detail}">
                    <p>{$order_date}</p>
                    <span>[{$order_id}]</span>
                    <i class="xi-angle-right-min"></i>
                </a>
            </div>
            <div class="order-info">
                <div class="order-prd">
                    <div class="a1">
                        <a href="/product/detail.html{$param}"><img src="{$product_image}" onerror="this.src='//img.echosting.cafe24.com/thumb/img_product_small.gif';" alt="" /></a>
                    </div>
                    <div class="right">
                        <div class="a2">
                            <p class="name">{$product_name_link}</p>
                            <div class="option {$option_display|display}">{$option_str}</div>
                            <ul module="Myshop_optionSet">
                                <li><span>{$product_name}</span>{$option_str} ({$qty}개)</li>
                                <li><span>{$product_name}</span>{$option_str} ({$qty}개)</li>
                            </ul>
                            <p class="price">{$product_price_front_head}{$product_price_front}<span>{$product_price_front_tail}</span></p>
                            <p class="quantity">수량 {$quantity}개</p>
                        </div>
                        <div class="a3">
                            <div class="invoice">
                                <p class="{$shipping_company_display|display}">
                                    <a href="{$shipping_company_link}" target="{$shipping_company_target}">{$shipping_company}</a>
                                </p>
                                <p class="{$invoice_no_display|display}">
                                    <a href="#none" class="line" onclick="{$shipping_trace_popup}">[{$invoice_no}]</a>
                                </p>
                            </div>
                            <a href="/board/product/write.html{$param_postscript}" class="btnSubmit {$postscript_display|display}">구매후기</a>
                            <a href="#none" class="btnNormal {$withdraw_cancel_display|display}" onclick="{$action_withdraw_cancel}">취소철회</a>
                            <a href="#none" class="btnNormal {$withdraw_exchange_display|display}" onclick="{$action_withdraw_exchange}">교환철회</a>
                            <a href="#none" class="btnNormal {$withdraw_return_display|display}" onclick="{$action_withdraw_return}">반품철회</a>
                            <div class="{$cs_button_display_column|display}">
                                <a href="#none" class="btnNormal {$direct_cancel_display|display}" onclick="{$action_direct_cancel}">주문취소</a>
                                <a href="/myshop/order/cancel.html{$param_apply}" class="btnNormal {$apply_cancel_display|display}">취소신청</a>
                                <a href="/myshop/order/exchange.html{$param_apply}" class="btnNormal {$apply_exchange_display|display}">교환신청</a>
                                <a href="/myshop/order/return.html{$param_apply}" class="btnNormal {$apply_return_display|display}">반품신청</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="a4">
                    <p class="status">{$status}</p>
                </div>
            </div>
        </div>
    </div>
    <p class="message {$empty_display|display}">주문 내역이 없습니다.</p>
</div>

<div module="Myshop_OrderHistoryPaging" class="ec-base-paginate">
    <a href="{$param_first}" class="first"><img src="/web/img/common/page_first.png" alt="첫 페이지" /></a>
    <a href="{$param_prev}"><img src="/web/img/common/page_prev.png" alt="이전 페이지" /></a>
    <ol>
        <li><a href="{$param_page}" class="{$param_class}">{$num}</a></li>
        <li><a href="{$param_page}" class="{$param_class}">{$num}</a></li>
    </ol>
    <a href="{$param_next}"><img src="/web/img/common/page_next.png" alt="다음 페이지" /></a>
    <a href="{$param_last}" class="last"><img src="/web/img/common/page_last.png" alt="마지막 페이지" /></a>
</div>
<!--@js(/myshop/src/myshop.js)-->

<script>
    jq(() => {
        mypageItemJsPkg.orderListInput();
        mypageItemJsPkg.submitBtnChange();
    });
</script>
